<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Personal Reference Hub - Search and learn about any topic with visual explanations"
    />
    <title>Personal Reference Hub</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
  </head>
  <body>
    <!-- Skip Navigation Link -->
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <!-- Header -->
    <header class="header">
      <div class="container">
        <h1 class="logo">
          <span class="logo-icon">ðŸ§ </span>
          Personal Reference Hub
        </h1>
        <div class="search-container">
          <label for="search-input" class="visually-hidden"
            >Search topics</label
          >
          <input
            type="search"
            id="search-input"
            class="search-input"
            placeholder="Search topics (e.g., proxy, LLM, databases...)"
            autocomplete="off"
            aria-describedby="search-help"
          />
          <button
            type="button"
            class="search-clear"
            aria-label="Clear search"
            title="Clear search"
          >
            <span class="icon">âœ•</span>
          </button>
        </div>
        <div id="search-help" class="search-help">
          Type to search through your personal knowledge base
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <main id="main-content" class="main">
      <div class="container">
        <!-- Action Bar -->
        <div class="action-bar">
          <button
            type="button"
            class="btn btn-primary"
            id="add-topic-btn"
            aria-label="Add new topic"
          >
            <span class="icon">+</span>
            Add New Topic
          </button>
          <div class="topic-count">
            <span id="topic-count">0</span> topics in your knowledge base
          </div>
        </div>

        <!-- Search Results Info -->
        <div class="search-info" id="search-info" aria-live="polite">
          <!-- Search results will be shown here -->
        </div>

        <!-- Topics Grid -->
        <div
          class="topics-grid"
          id="topics-grid"
          role="region"
          aria-label="Topics collection"
        >
          <!-- Topic cards will be dynamically inserted here -->
        </div>

        <!-- Empty State -->
        <div class="empty-state" id="empty-state">
          <div class="empty-state-icon">ðŸ“š</div>
          <h2>Welcome to Your Personal Reference Hub</h2>
          <p>
            Start building your knowledge base by adding your first topic. You
            can include explanations, diagrams, and images to create
            comprehensive references.
          </p>
          <button
            type="button"
            class="btn btn-primary"
            onclick="document.getElementById('add-topic-btn').click()"
          >
            Add Your First Topic
          </button>
        </div>
      </div>
    </main>

    <!-- Add Topic Modal -->
    <div
      class="modal"
      id="add-topic-modal"
      role="dialog"
      aria-labelledby="modal-title"
      aria-hidden="true"
    >
      <div class="modal-overlay" aria-hidden="true"></div>
      <div class="modal-content">
        <header class="modal-header">
          <h2 id="modal-title">Add New Topic</h2>
          <button type="button" class="modal-close" aria-label="Close modal">
            <span class="icon">âœ•</span>
          </button>
        </header>

        <form class="modal-body" id="add-topic-form">
          <div class="form-group">
            <label for="topic-title" class="form-label">Topic Title *</label>
            <input
              type="text"
              id="topic-title"
              class="form-input"
              required
              placeholder="e.g., Proxy Servers, Large Language Models"
              maxlength="100"
            />
          </div>

          <div class="form-group">
            <label for="topic-description" class="form-label"
              >Simple Explanation *</label
            >
            <textarea
              id="topic-description"
              class="form-textarea"
              required
              placeholder="Explain this topic in simple, clear terms..."
              rows="4"
              maxlength="1000"
            ></textarea>
          </div>

          <div class="form-group">
            <label for="topic-diagram" class="form-label"
              >Mermaid Diagram Code</label
            >
            <textarea
              id="topic-diagram"
              class="form-textarea code-input"
              placeholder="graph TD&#10;    A[Start] --> B[Process]&#10;    B --> C[End]"
              rows="6"
            ></textarea>
            <small class="form-help"
              >Use Mermaid syntax to create diagrams. Leave empty if not
              needed.</small
            >
          </div>

          <div class="form-group">
            <label for="topic-image" class="form-label">Image URL</label>
            <input
              type="url"
              id="topic-image"
              class="form-input"
              placeholder="https://example.com/image.jpg"
            />
            <small class="form-help">Optional: Add a relevant image URL</small>
          </div>

          <div class="form-group">
            <label for="topic-tags" class="form-label">Tags</label>
            <input
              type="text"
              id="topic-tags"
              class="form-input"
              placeholder="networking, security, web (comma-separated)"
            />
            <small class="form-help"
              >Add tags to help organize and search your topics</small
            >
          </div>
        </form>

        <footer class="modal-footer">
          <button type="button" class="btn btn-secondary" id="cancel-topic">
            Cancel
          </button>
          <button type="submit" form="add-topic-form" class="btn btn-primary">
            <span class="icon">ðŸ’¾</span>
            Save Topic
          </button>
        </footer>
      </div>
    </div>

    <!-- Loading Indicator -->
    <div class="loading" id="loading" aria-hidden="true">
      <div class="loading-spinner"></div>
      <div class="loading-text">Processing...</div>
    </div>

    <script src="script.js"></script>
  </body>
</html>
